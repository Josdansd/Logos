(function(c){var b={animations:Modernizr.cssanimations},a={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},f=a[Modernizr.prefixed("animation")],d=function(h,j){var i=function(k){if(b.animations){if(k.target!=this){return}this.removeEventListener(f,i)}if(j&&typeof j==="function"){j.call()}};if(b.animations){h.addEventListener(f,i)}else{i()}};function g(i,h){for(var j in h){if(h.hasOwnProperty(j)){i[j]=h[j]}}return i}function e(i,h){this.el=i;this.options=g({},this.options);g(this.options,h);this.ctrlClose=this.el.querySelector("[data-dialog-close]");this.isOpen=false;this._initEvents()}e.prototype.options={onOpenDialog:function(){return false},onCloseDialog:function(){return false}};e.prototype._initEvents=function(){var h=this;this.ctrlClose.addEventListener("click",this.toggle.bind(this));document.addEventListener("keydown",function(i){var j=i.keyCode||i.which;if(j===27&&h.isOpen){h.toggle()}});this.el.querySelector(".dialog__overlay").addEventListener("click",this.toggle.bind(this))};e.prototype.toggle=function(){var h=this;if(this.isOpen){classie.remove(this.el,"dialog--open");classie.add(h.el,"dialog--close");d(this.el.querySelector(".dialog__content"),function(){classie.remove(h.el,"dialog--close")});this.options.onCloseDialog(this)}else{classie.add(this.el,"dialog--open");this.options.onOpenDialog(this)}this.isOpen=!this.isOpen};c.DialogFx=e})(window);$(document).ready(function(){$("div.dialog, #loader").insertAfter("#md-show")});(function(b){function c(e,d){for(var f in d){if(d.hasOwnProperty(f)){e[f]=d[f]}}return e}function a(e,d){this.el=e;this.options=c({},this.options);c(this.options,d);this._init()}a.prototype.options={speedIn:500,easingIn:mina.linear};a.prototype._init=function(){var d=Snap(this.el.querySelector("svg"));this.path=d.select("path");this.initialPath=this.path.attr("d");var f=this.el.getAttribute("data-opening");this.openingSteps=f?f.split(";"):"";this.openingStepsTotal=f?this.openingSteps.length:0;if(this.openingStepsTotal===0){return}var e=this.el.getAttribute("data-closing")?this.el.getAttribute("data-closing"):this.initialPath;this.closingSteps=e?e.split(";"):"";this.closingStepsTotal=e?this.closingSteps.length:0;this.isAnimating=false;if(!this.options.speedOut){this.options.speedOut=this.options.speedIn}if(!this.options.easingOut){this.options.easingOut=this.options.easingIn}};a.prototype.show=function(){if(this.isAnimating){return false}this.isAnimating=true;var d=this,e=function(){classie.addClass(d.el,"pageload-loading")};this._animateSVG("in",e);classie.add(this.el,"show")};a.prototype.hide=function(){var d=this;classie.removeClass(this.el,"pageload-loading");this._animateSVG("out",function(){d.path.attr("d",d.initialPath);classie.removeClass(d.el,"show");d.isAnimating=false})};a.prototype._animateSVG=function(e,k){var l=this,h=0,i=e==="out"?this.closingSteps:this.openingSteps,j=e==="out"?this.closingStepsTotal:this.openingStepsTotal,d=e==="out"?l.options.speedOut:l.options.speedIn,g=e==="out"?l.options.easingOut:l.options.easingIn,f=function(m){if(m>j-1){if(k&&typeof k=="function"){k()}return}l.path.animate({path:i[m]},d,g,function(){f(m)});m++};f(h)};b.SVGLoader=a})(window);
